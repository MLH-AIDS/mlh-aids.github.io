<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<link rel="shortcut icon" href="https://mlh-aids.github.io/IMG_20220831_172340.jpg" type="image/x-icon" />
<link rel="stylesheet" type="text/css" href=".././style.css">
<title>批量替换文字</title>
<style tape="text-css">
</style>
</head>
<body>
<div class="background01"><!--背景图--></div>
<div class="dtoptitle"><p>Replace</p></div>
<div class="dtotop" id="dtotop" onclick="totop()"><strong><a title="回到顶部" style="color:#FFFFFF" >#</a></strong></div>
<p class="p1"><br/></p>
<div class="op40"></div>
<div class="dbody"><!--主要内容-->
<textarea name="textarea" id="text" rows="10" cols="50"></textarea>
<div>
  查找<input id="oldVal" placeholder="要查找的内容" value="">
  替换<input id="newVal" placeholder="用来替换的内容">
  <button onclick="replace()">替换</button>
  <button onclick="replace('all')">全部替换</button>
</div>
</div><!--主要内容结束-->

<script type="text/javascript">
function replace (type) {
  let newText = ''
  const text = document.getElementById('text').value || ''
  const oldVal = document.getElementById('oldVal').value || ''
  const newVal = document.getElementById('newVal').value || ''
  if (type === 'all') {
    // 全部替换
    newText = text.replaceAll(oldVal, newVal)
  } else {
    // 替换找到的第一个
    newText = text.replace(oldVal, newVal)
  }
  // 将替换后的内容，更新到文档上
  document.getElementById('text').value = newText
}
</script>
<script type="text/javascript" src=".././totop.js" ></script>

</body>
</html>